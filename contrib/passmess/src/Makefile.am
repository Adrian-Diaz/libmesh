#----------------------------------------
# Programs and libraries we want to build
#----------------------------------------

bin_PROGRAMS    = passmess_version

lib_LTLIBRARIES = libpassmess.la

libpassmess_la_LDFLAGS = -version-info 0:0:0

#----------------------------------------------
# List of source files to build dynamic library
#----------------------------------------------
libpassmess_la_SOURCES =

# utilities
libpassmess_la_SOURCES += utilities/src/passmess_version.C

#----------------------------
# INCLUDES we want distributed
#----------------------------
includedir = $(prefix)/include/passmess
include_HEADERS =

# algorithms
include_HEADERS += algorithms/include/passmess/parallel_sync.h

# parallel
include_HEADERS += parallel/include/passmess/attributes.h
include_HEADERS += parallel/include/passmess/communicator.h
include_HEADERS += parallel/include/passmess/data_type.h
include_HEADERS += parallel/include/passmess/message_tag.h
include_HEADERS += parallel/include/passmess/op_function.h
include_HEADERS += parallel/include/passmess/packing.h
include_HEADERS += parallel/include/passmess/parallel_communicator_specializations
include_HEADERS += parallel/include/passmess/parallel_implementation.h
include_HEADERS += parallel/include/passmess/post_wait_copy_buffer.h
include_HEADERS += parallel/include/passmess/post_wait_delete_buffer.h
include_HEADERS += parallel/include/passmess/post_wait_dereference_shared_ptr.h
include_HEADERS += parallel/include/passmess/post_wait_dereference_tag.h
include_HEADERS += parallel/include/passmess/post_wait_free_buffer.h
include_HEADERS += parallel/include/passmess/post_wait_unpack_buffer.h
include_HEADERS += parallel/include/passmess/post_wait_work.h
include_HEADERS += parallel/include/passmess/request.h
include_HEADERS += parallel/include/passmess/standard_type.h
include_HEADERS += parallel/include/passmess/status.h

# utilities
include_HEADERS += utilities/include/passmess/passmess.h
include_HEADERS += utilities/include/passmess/passmess_assert.h
include_HEADERS += utilities/include/passmess/passmess_call_mpi.h

# Needs to be builddir since this is generated by configure
include_HEADERS += $(top_builddir)/src/utilities/include/passmess/passmess_version.h
include_HEADERS += $(top_builddir)/src/utilities/include/passmess/passmess_config.h

# Version app
passmess_version_SOURCES = apps/version.C
passmess_version_LDADD = libpassmess.la

#--------------------------------------
#Local Directories to include for build
#--------------------------------------
AM_CPPFLAGS  =
AM_CPPFLAGS += -I$(top_srcdir)/src/algorithms/include
AM_CPPFLAGS += -I$(top_srcdir)/src/parallel/include
AM_CPPFLAGS += -I$(top_srcdir)/src/utilities/include
AM_CPPFLAGS += -I$(top_builddir)/src/utilities/include #passmess_version.h
